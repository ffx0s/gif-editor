webpackJsonp([0],{"50Bo":function(t,e,a){"use strict";a.d(e,"a",function(){return c});var r=a("Z60a"),o=a.n(r),i=a("C9uT"),n=a.n(i),s=a("vs94"),c=function(){function t(e){var a=e.el,r=e.max,i=e.min,n=e.value,c=e.step;o()(this,t);var l=this;l.progressBar=a.querySelector(".range-current-progress"),l.point=a.querySelector(".range-button"),l.width=a.offsetWidth-a.querySelector(".range-point").offsetWidth,l.max=r,l.min=i,l.value=n,l.step=c||1,l.handler=new s["a"],l.init()}return n()(t,[{key:"init",value:function(){var t=this;return t.handler.bind(t.point).on("onpointerdown",t.dragstart.bind(t)).on("onpointermove",t.dragmove.bind(t)),t.calculate(),t.setValue(t.value),t}},{key:"calculate",value:function(){var t=this,e=(t.max-t.min)/t.step;t.px=t.width/e,t.count=e}},{key:"dragstart",value:function(){var t=this;t.handler.last.width=t.progressBar.offsetWidth,t.handler.last.count=0,t.handler.emit("dragstart")}},{key:"dragmove",value:function(t){var e=t.x,a=this;a.handler.last.width+=e;var r=Math.ceil(a.handler.last.width/a.px);r>a.count?r=a.count:r<0&&(r=0),r+=a.min,r!==a.handler.last.count&&a.handler.emit("change",r*a.step),a.handler.last.count=r}},{key:"setValue",value:function(t){var e=this;t=Math.min(Math.max(t,e.min),e.max),e.progressBar.style.width=(t-e.min)/e.step*e.px+"px",e.value=t}},{key:"setMax",value:function(t){this.max=t,this.calculate()}}]),t}()},"6kt0":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".editor-tool-layout[data-v-522c7f30]{position:absolute;padding-top:1.125rem;width:100%;height:100%;background-color:#fff;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;-webkit-box-sizing:border-box;box-sizing:border-box}.editor-tool-layout.show-tool[data-v-522c7f30]{-webkit-transform:translateZ(0);transform:translateZ(0)}.footer[data-v-522c7f30]{position:absolute;bottom:0;left:0;width:100%;height:2.5rem;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.footer[data-v-522c7f30] i{font-size:1.125rem}.footer[data-v-522c7f30] .close,.footer[data-v-522c7f30] .correct{position:absolute;bottom:0;height:100%;color:#282c34}.footer .close[data-v-522c7f30]{left:0}.footer .correct[data-v-522c7f30]{right:0;color:#02c8a7}.action-item[data-v-522c7f30]{margin:0 .625rem;height:100%}.action-item .choose-type[data-v-522c7f30]{height:100%}.action-item .icon-help[data-v-522c7f30]{margin-left:-.25rem;margin-right:.3125rem;font-size:.75rem}.record[data-v-522c7f30]{color:#282c34}",""])},CIiH:function(t,e,a){var r=a("sD13");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("rjj0").default;o("5ab43ef2",r,!0,{shadowMode:!1,sourceMap:!1})},DO3u:function(t,e,a){var r=a("WXO0");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("rjj0").default;o("5005ab4a",r,!0,{shadowMode:!1,sourceMap:!1})},QXMH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("EuXz");var r=a("Biqn"),o=a.n(r),i=a("lYqf"),n=a("NYxO"),s={props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1}},methods:{updateValue:function(){this.$emit("input",!this.value)}}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("input",{staticClass:"switch",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.value},on:{change:t.updateValue}})},l=[],d=a("XyMi");function u(t){a("jVwr")}var f=!1,b=u,p="data-v-002f851e",h=null,m=Object(d["a"])(s,c,l,f,b,p,h),g=m.exports,v={props:{enabledRecord:{type:Boolean,default:!1},name:{type:String,default:""}},data:function(){return{type:!0,disableUndo:!0,disableRedo:!0}},watch:{show:function(t){t||(this.type=!0),this.$emit("on-show",t)}},computed:o()({},Object(n["b"])({currentAction:"currentAction"}),{show:function(){return this.currentAction===this.name}}),mounted:function(){var t=this;i["a"].layer.history.on("input",function(e){t.disableUndo=e.disableUndo,t.disableRedo=e.disableRedo})},methods:{showHelp:function(){this.$alert({body:"全局激活时，所有的帧都会应用当前编辑操作。"})},undo:function(){i["a"].layer.history.undo(i["a"].layer)},redo:function(){i["a"].layer.history.redo(i["a"].layer)}},components:{InputSwitch:g}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor-tool-layout",class:{"show-tool":t.show}},[t._t("default"),a("div",{staticClass:"footer item-center"},[a("icon-button",{staticClass:"close",attrs:{"icon-class":"icon-close"},nativeOn:{click:function(e){t.$emit("on-restore")}}}),a("div",{staticClass:"item-center",staticStyle:{width:"100%"}},[a("div",{staticClass:"action-item item-center"},[a("div",{staticClass:"choose-type",on:{click:t.showHelp}},[t._v("\n          全局\n          "),a("i",{staticClass:"iconfont icon-help"})]),a("input-switch",{on:{input:function(e){t.$emit("on-global-frame",t.type)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),t.enabledRecord?a("div",{staticClass:"action-item item-center"},[a("icon-button",{staticClass:"record",attrs:{"icon-class":"icon-undo",disabled:t.disableUndo},nativeOn:{click:function(e){return t.undo(e)}}}),a("icon-button",{staticClass:"record",attrs:{"icon-class":"icon-redo",disabled:t.disableRedo},nativeOn:{click:function(e){return t.redo(e)}}})],1):t._e(),a("div",{staticClass:"action-item item-center"},[t._t("action")],2)]),a("icon-button",{staticClass:"correct",attrs:{"icon-class":"icon-ico-correct"},nativeOn:{click:function(e){t.$emit("on-save")}}})],1)],2)},k=[];function y(t){a("hd6X")}var x=!1,C=y,A="data-v-522c7f30",F=null,_=Object(d["a"])(v,w,k,x,C,A,F);e["default"]=_.exports},TAej:function(t,e,a){"use strict";var r={methods:{check:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3072e3,a=this;return!(t.size>e)||(a.$alert({body:"请上传小于 ".concat(e/1024/1e3,"M 的图片。")}),!1)},onChange:function(t){var e=t.target.files[0];e&&this.check(e)&&(this.$store.commit("file",e),this.$emit("on-change",e),t.target.value="")}}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload"},[a("input",{staticClass:"upload-input",attrs:{type:"file",accept:"image/gif"},on:{change:t.onChange}})])},i=[],n=a("XyMi");function s(t){a("DO3u")}var c=!1,l=s,d="data-v-83d2d87e",u=null,f=Object(n["a"])(r,o,i,c,l,d,u);e["a"]=f.exports},WXO0:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".upload-input[data-v-83d2d87e],.upload[data-v-83d2d87e]{position:absolute;left:0;top:0;width:100%;height:100%}.upload-input[data-v-83d2d87e]{opacity:0;cursor:pointer;z-index:5}",""])},epE6:function(t,e,a){"use strict";var r={computed:{progress:function(){return Math.ceil(this.value/this.max*100)}},props:{max:{type:Number,default:100},value:{type:Number,default:0},text:{type:String,default:""}}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}},[t._v(t._s(t.text)+" "+t._s(t.progress)+"%")])])])},i=[],n=a("XyMi");function s(t){a("lrfJ")}var c=!1,l=s,d="data-v-0b196c82",u=null,f=Object(n["a"])(r,o,i,c,l,d,u);e["a"]=f.exports},hd6X:function(t,e,a){var r=a("6kt0");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("rjj0").default;o("7b4e7fca",r,!0,{shadowMode:!1,sourceMap:!1})},jVwr:function(t,e,a){var r=a("lmJc");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("rjj0").default;o("67a58d52",r,!0,{shadowMode:!1,sourceMap:!1})},lmJc:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'.switch[data-v-002f851e]{margin:0;position:relative;width:42px;height:22px;border:1px solid #dfdfdf;outline:0;border-radius:16px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#dfdfdf;-webkit-transition:background-color .1s,border .1s;transition:background-color .1s,border .1s;-webkit-appearance:none}.switch[data-v-002f851e]:before{width:40px;background-color:#fdfdfd;-webkit-transition:-webkit-transform .35s cubic-bezier(.45,1,.4,1);transition:-webkit-transform .35s cubic-bezier(.45,1,.4,1);transition:transform .35s cubic-bezier(.45,1,.4,1);transition:transform .35s cubic-bezier(.45,1,.4,1),-webkit-transform .35s cubic-bezier(.45,1,.4,1)}.switch[data-v-002f851e]:after,.switch[data-v-002f851e]:before{content:" ";position:absolute;top:0;left:0;height:20px;border-radius:15px}.switch[data-v-002f851e]:after{width:20px;background-color:#fff;-webkit-box-shadow:0 .0625rem .1875rem rgba(0,0,0,.4);box-shadow:0 1px 3px rgba(0,0,0,.4);-webkit-transition:-webkit-transform .35s cubic-bezier(.4,.4,.25,1.35);transition:-webkit-transform .35s cubic-bezier(.4,.4,.25,1.35);transition:transform .35s cubic-bezier(.4,.4,.25,1.35);transition:transform .35s cubic-bezier(.4,.4,.25,1.35),-webkit-transform .35s cubic-bezier(.4,.4,.25,1.35)}.switch[data-v-002f851e]:checked:before{-webkit-transform:scale(0);transform:scale(0)}.switch[data-v-002f851e]:checked:after{-webkit-transform:translateX(1.25rem);transform:translateX(20px)}.switch[data-v-002f851e]:checked{border-color:#7cdbd5;background-color:#7cdbd5}',""])},lrfJ:function(t,e,a){var r=a("vQL6");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("rjj0").default;o("4a8a6c0c",r,!0,{shadowMode:!1,sourceMap:!1})},mrWI:function(t,e,a){"use strict";var r=a("50Bo"),o=["#000000","#333333","#4D4D4D","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#FFFFFF","#9F0500","#D33115","#F44E3B","#C45100","#E27300","#FE9200","#FB9E00","#FCC400","#FCDC00","#808900","#B0BC00","#DBDF00","#194D33","#68BC00","#A4DD00","#0C797D","#16A5A5","#68CCCA","#0062B1","#009CE0","#73D8FF","#653294","#7B64FF","#AEA1FF","#AB149E","#FA28FF","#FDA1FF"],i={props:{colors:{type:Array,default:function(){return o}},itemSize:{type:Number,default:8},min:{type:Number,default:0},max:{type:Number,default:o.length-1},colorValue:{type:Number,default:0},alphaValue:{type:Number,default:1}},computed:{wrapStyle:function(){return{width:this.colors.length*this.itemSize+"px"}},alphaStyle:function(){return{background:"linear-gradient(to right, rgba(0,0,0,0) 0%, ".concat(this.colors[this.colorValue]," 100%)")}}},watch:{max:function(t){this._colorPicker.setMax(t)},colorValue:function(t){this._colorPicker.setValue(t)},alphaValue:function(t){this._alphaPicker.setValue(t)}},mounted:function(){this.initRange()},methods:{initRange:function(){var t=this,e=this;e._colorPicker=new r["a"]({el:e.$el.querySelector(".color-picker"),max:e.max,min:e.min,value:e.colorValue}),e._colorPicker.handler.on("change",function(a){e.$emit("on-change-color",t.colors[a],a)}),e._alphaPicker=new r["a"]({el:e.$el.querySelector(".alpha-picker"),max:1,min:0,step:.01,value:e.alphaValue}),e._alphaPicker.handler.on("change",function(t){e.$emit("on-change-alpha",t)})}}},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"color-picker range-bar range-bar-style",style:t.wrapStyle},[a("ul",{staticClass:"color-picker-colors"},t._l(t.colors,function(e){return a("li",{key:e,style:{backgroundColor:e,width:t.itemSize+"px"}})})),a("div",{staticClass:"range-current-progress range-bar-style"},[a("button",{staticClass:"range-button"},[a("i",{staticClass:"color-picker-point range-point",style:{backgroundColor:t.colors[t.colorValue]}})])])]),a("div",{staticClass:"alpha-picker range-bar range-bar-style",style:t.wrapStyle},[a("div",{staticClass:"alpha-picker-color",style:t.alphaStyle}),t._m(0)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"range-current-progress range-bar-style"},[a("button",{staticClass:"range-button"},[a("i",{staticClass:"range-point"})])])}],c=a("XyMi");function l(t){a("CIiH")}var d=!1,u=l,f="data-v-55a652b2",b=null,p=Object(c["a"])(i,n,s,d,u,f,b);e["a"]=p.exports},sD13:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'.range-bar-style[data-v-55a652b2]{margin:0 auto;width:100%;height:6px;border-radius:3px}.range-bar[data-v-55a652b2]{position:relative}.range-bar .range-button[data-v-55a652b2]{position:absolute;top:-1rem;right:-1.75rem;width:2.25rem;height:2.25rem;background:transparent;border:none;color:#fff;padding:0;cursor:pointer}.range-bar .range-button .range-point[data-v-55a652b2]{margin:0 auto;width:1.1875rem;height:1.1875rem;display:block;background:#fff;border-radius:50%;-webkit-box-shadow:rgba(0,0,0,.37) 0 .0625rem .125rem 0;box-shadow:0 .0625rem .125rem 0 rgba(0,0,0,.37);border:.125rem solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box}.range-bar .range-current-progress[data-v-55a652b2]{position:absolute;left:0;top:0;width:0}.color-picker[data-v-55a652b2]{margin-bottom:1.875rem}.color-picker .color-picker-point[data-v-55a652b2]{-webkit-transition:background .3s;transition:background .3s}.color-picker-colors[data-v-55a652b2]{position:absolute;left:0;top:0;width:100%;height:100%;font-size:0}.color-picker-colors li[data-v-55a652b2]{display:inline-block;width:8px;height:100%}.color-picker-colors li[data-v-55a652b2]:first-child{border-radius:.1875rem 0 0 .1875rem}.color-picker-colors li[data-v-55a652b2]:last-child{border-radius:0 .1875rem .1875rem 0}.alpha-picker[data-v-55a652b2]{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") 0;background-size:contain}.alpha-picker-color[data-v-55a652b2]{position:absolute;width:100%;height:100%;left:0;top:0;border-radius:.1875rem;-webkit-transition:background .3s;transition:background .3s}',""])},vQL6:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".progress[data-v-0b196c82]{width:100%;height:1.25rem;line-height:1.25rem;background-color:#e9ecef;border-radius:.625rem;overflow:hidden}.progress .progress-bar[data-v-0b196c82]{width:0;height:100%;background:#7cdbd5;text-align:center;color:#fff;font-size:.75rem;white-space:nowrap;text-indent:.5rem}",""])}});
//# sourceMappingURL=0.36865fde.js.map