{"version":3,"sources":["webpack:///src/views/Editor/modules/TextTool.vue","webpack:///./src/views/Editor/modules/TextTool.vue?95e9","webpack:///./src/views/Editor/modules/TextTool.vue","webpack:///./src/views/Editor/modules/TextTool.vue?a28c","webpack:///./src/views/Editor/modules/TextTool.vue?a2a8"],"names":["TextTool","resetState","restore","alphaValue","fillStyle","value","color","modify","text","EditorToolLayout","ToolLayout","ColorPicker","render","_vm","this","_h","$createElement","_c","_self","attrs","name","on","on-show","onShow","on-restore","on-save","save","on-global-frame","$event","globalFrame","colorValue","on-change-color","changeColor","on-change-alpha","changeAlpha","slot","staticClass","click","changeText","_v","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","content","module","i","locals","exports","add","default","shadowMode","sourceMap","push"],"mappings":"2JA2BAA,gCAIA,cACA,aACA,eAEA,wCAKAC,+CAIA,mBACA,kBACA,oBACA,6CAGAC,wFAKA,+DAGAC,2CACAC,yDAGAC,aACAC,OACAC,kDAGAF,OACAE,iGAIAC,oEAGAA,0BAOAC,iBAAAC,EAAA,WAEAC,cAAA,OCpFAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,sBAAgCE,OAAOC,KAAA,QAAcC,IAAKC,UAAAT,EAAAU,OAAAC,aAAAX,EAAAX,QAAAuB,UAAAZ,EAAAa,KAAAC,kBAAA,SAAAC,GAAoGf,EAAAgB,aAAAhB,EAAAgB,gBAAqCZ,EAAA,gBAAqBE,OAAOW,WAAAjB,EAAAiB,WAAA3B,WAAAU,EAAAV,YAAwDkB,IAAKU,kBAAAlB,EAAAmB,YAAAC,kBAAApB,EAAAqB,eAAqEjB,EAAA,OAAYE,OAAOgB,KAAA,UAAgBA,KAAA,WAAelB,EAAA,UAAemB,YAAA,6BAAAf,IAA6CgB,MAAAxB,EAAAyB,cAAwBzB,EAAA0B,GAAA,iBAChkBC,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAjD,EACAY,EACA4B,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA,gCCxBA,IAAAI,EAAAT,EAAA,QACA,kBAAAS,QAAAC,EAAAC,EAAAF,EAAA,MACAA,EAAAG,SAAAF,EAAAG,QAAAJ,EAAAG,QAEA,IAAAE,EAAAd,EAAA,QAAAe,QACAD,EAAA,WAAAL,GAAA,GAA6CO,YAAA,EAAAC,WAAA,0BCR7CJ,EAAAH,EAAAG,QAAAb,EAAA,OAAAA,EAAA,GAKAa,EAAAK,MAAAR,EAAAC,EAAA","file":"js/8.86602c44.js","sourcesContent":["<template>\n<editor-tool-layout\n  :name=\"'text'\"\n  @on-show=\"onShow\"\n  @on-restore=\"restore\"\n  @on-save=\"save\"\n  @on-global-frame=\"globalFrame = !globalFrame\"\n>\n  <color-picker\n    :colorValue=\"colorValue\"\n    :alphaValue=\"alphaValue\"\n    @on-change-color=\"changeColor\"\n    @on-change-alpha=\"changeAlpha\"\n  />\n  <div slot=\"action\">\n    <button class=\"btn-outline-info btn-small\" @click=\"changeText\">修改文字</button>\n  </div>\n</editor-tool-layout>\n</template>\n\n<script>\nimport editor from '@/editor/instance'\nimport ColorPicker from '@/components/ColorPicker'\nimport { colorToRGB } from '@/utils/shared'\n\nimport EditorToolLayout from './ToolLayout'\n\nexport default {\n  data() {\n    return {\n      color: '',\n      colorValue: 0,\n      alphaValue: 1,\n      globalFrame: true\n    }\n  },\n  methods: {\n    onShow(value) {\n      if (value) {\n        this.resetState()\n      }\n    },\n    resetState() {\n      this.color = ''\n      this.colorValue = 0\n      this.alphaValue = 1\n      this.globalFrame = true\n    },\n    restore() {\n      editor.useTool('text').restore()\n    },\n    save() {\n      editor.useTool('text').save({\n        $type: this.globalFrame ? 'global' : null\n      })\n    },\n    modify() {\n      const fillStyle = colorToRGB(this.color, this.alphaValue)\n      editor.useTool('text').modify({ fillStyle })\n    },\n    changeColor(color, value) {\n      this.colorValue = value\n      this.color = color\n      this.modify()\n    },\n    changeAlpha(value) {\n      this.alphaValue = value\n      this.modify()\n    },\n    changeText() {\n      this.$textarea({\n        value: editor.useTool('text').getCurrentElement().text,\n        onConfirm(text) {\n          if (text.trim()) {\n            editor.useTool('text').modify({ text })\n          }\n        }\n      })\n    }\n  },\n  components: {\n    EditorToolLayout,\n    ColorPicker\n  }\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Editor/modules/TextTool.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('editor-tool-layout',{attrs:{\"name\":'text'},on:{\"on-show\":_vm.onShow,\"on-restore\":_vm.restore,\"on-save\":_vm.save,\"on-global-frame\":function($event){_vm.globalFrame = !_vm.globalFrame}}},[_c('color-picker',{attrs:{\"colorValue\":_vm.colorValue,\"alphaValue\":_vm.alphaValue},on:{\"on-change-color\":_vm.changeColor,\"on-change-alpha\":_vm.changeAlpha}}),_c('div',{attrs:{\"slot\":\"action\"},slot:\"action\"},[_c('button',{staticClass:\"btn-outline-info btn-small\",on:{\"click\":_vm.changeText}},[_vm._v(\"修改文字\")])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-83f077e0\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Editor/modules/TextTool.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!vue-style-loader?{\\\"shadowMode\\\":false,\\\"sourceMap\\\":false}!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-83f077e0\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextTool.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vx/test/gif-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextTool.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vx/test/gif-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextTool.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-83f077e0\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextTool.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-83f077e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Editor/modules/TextTool.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-83f077e0\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./TextTool.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9baa5134\", content, true, {\"shadowMode\":false,\"sourceMap\":false});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader?{\"shadowMode\":false,\"sourceMap\":false}!./node_modules/css-loader?{\"sourceMap\":false,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-83f077e0\",\"scoped\":true,\"sourceMap\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Editor/modules/TextTool.vue\n// module id = 3H2b\n// module chunks = 1 8","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":false,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-83f077e0\",\"scoped\":true,\"sourceMap\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Editor/modules/TextTool.vue\n// module id = JZbS\n// module chunks = 1 8"],"sourceRoot":""}