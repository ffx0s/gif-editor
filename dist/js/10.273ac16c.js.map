{"version":3,"sources":["webpack:///src/views/Editor/modules/PencilTool.vue","webpack:///./src/views/Editor/modules/PencilTool.vue?a286","webpack:///./src/views/Editor/modules/PencilTool.vue","webpack:///./src/views/Editor/modules/PencilTool.vue?ef7f","webpack:///./src/views/Editor/modules/PencilTool.vue?fee4"],"names":["PencilTool","resetState","restore","alphaValue","strokeStyle","value","color","modify","name","size","EditorToolLayout","ToolLayout","ColorPicker","render","_vm","this","_h","$createElement","_c","_self","attrs","enabledRecord","on","on-show","onShow","on-restore","on-save","save","on-global-frame","$event","globalFrame","nativeOn","click","showMenu","colorValue","on-change-color","changeColor","on-change-alpha","changeAlpha","slot","staticClass","stopPropagation","class","sizeClass","style","backgroundColor","directives","rawName","expression","_l","item","key","changeSize","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","content","module","i","locals","exports","add","default","shadowMode","sourceMap","push"],"mappings":"sKA0CAA,gCAIA,cACA,aACA,eACA,YACA,YACA,oCAEA,uBACA,uBACA,sBAEA,gBAEA,6CAKAC,+CAIA,mBACA,kBACA,oBACA,mBACA,sBACA,qDAGAC,0FAKA,+DAGAC,6BACAC,mCACAA,2DAGAC,aACAC,OACAC,kDAGAF,OACAE,kDAGAC,kDACAC,qBAIAC,iBAAAC,EAAA,WAEAC,cAAA,OCzGAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,sBAAgCE,OAAOZ,KAAA,SAAAa,eAAA,GAAqCC,IAAKC,UAAAT,EAAAU,OAAAC,aAAAX,EAAAZ,QAAAwB,UAAAZ,EAAAa,KAAAC,kBAAA,SAAAC,GAAoGf,EAAAgB,aAAAhB,EAAAgB,cAAoCC,UAAWC,MAAA,SAAAH,GAAyBf,EAAAmB,UAAA,MAAuBf,EAAA,gBAAqBE,OAAOc,WAAApB,EAAAoB,WAAA/B,WAAAW,EAAAX,YAAwDmB,IAAKa,kBAAArB,EAAAsB,YAAAC,kBAAAvB,EAAAwB,eAAqEpB,EAAA,OAAYE,OAAOmB,KAAA,UAAgBA,KAAA,WAAerB,EAAA,OAAYsB,YAAA,OAAAlB,IAAuBU,MAAA,SAAAH,GAAyBA,EAAAY,kBAAyB3B,EAAAmB,UAAAnB,EAAAmB,aAA+Bf,EAAA,KAAUwB,MAAA,WAAA5B,EAAA6B,UAAAC,OAAyCC,gBAAA/B,EAAAV,eAAoCc,EAAA,cAAmBE,OAAOZ,KAAA,UAAeU,EAAA,MAAW4B,aAAatC,KAAA,OAAAuC,QAAA,SAAA1C,MAAAS,EAAA,SAAAkC,WAAA,cAA0ElC,EAAAmC,GAAAnC,EAAA,kBAAAoC,GAAsC,OAAAhC,EAAA,MAAgBiC,IAAAD,EAAAzC,KAAAa,IAAkBU,MAAA,SAAAH,GAAyBf,EAAAsC,WAAAF,OAAuBhC,EAAA,KAAUwB,MAAAQ,EAAA1C,KAAAoC,OAAwBC,gBAAA/B,EAAAV,uBAAwC,UACrlCiD,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACA9D,EACAa,EACAwC,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAA,WAAAH,EAAA,gCCxBA,IAAAI,EAAAT,EAAA,QACA,kBAAAS,QAAAC,EAAAC,EAAAF,EAAA,MACAA,EAAAG,SAAAF,EAAAG,QAAAJ,EAAAG,QAEA,IAAAE,EAAAd,EAAA,QAAAe,QACAD,EAAA,WAAAL,GAAA,GAA6CO,YAAA,EAAAC,WAAA,4BCR7CJ,EAAAH,EAAAG,QAAAb,EAAA,OAAAA,EAAA,GAKAa,EAAAK,MAAAR,EAAAC,EAAA,wxBAA+yB","file":"js/10.273ac16c.js","sourcesContent":["<template>\n<editor-tool-layout\n  :name=\"'pencil'\"\n  :enabledRecord=\"true\"\n  @on-show=\"onShow\"\n  @on-restore=\"restore\"\n  @on-save=\"save\"\n  @on-global-frame=\"globalFrame = !globalFrame\"\n  @click.native=\"showMenu = false\"\n>\n  <color-picker\n    :colorValue=\"colorValue\"\n    :alphaValue=\"alphaValue\"\n    @on-change-color=\"changeColor\"\n    @on-change-alpha=\"changeAlpha\"\n  />\n  <div slot=\"action\">\n    <div class=\"size\" @click.stop=\"showMenu = !showMenu\">\n      <i\n        :style=\"{backgroundColor: strokeStyle }\"\n        :class=\"'current ' + sizeClass\"\n      >\n      </i>\n      <transition name=\"fade\">\n        <ul v-show=\"showMenu\">\n          <li @click=\"changeSize(item)\" v-for=\"item in sizeList\" :key=\"item.size\">\n            <i :class=\"item.name\" :style=\"{backgroundColor: strokeStyle }\"></i>\n          </li>\n        </ul>\n      </transition>\n    </div>\n  </div>\n</editor-tool-layout>\n</template>\n\n<script>\nimport editor from '@/editor/instance'\nimport ColorPicker from '@/components/ColorPicker'\nimport { colorToRGB } from '@/utils/shared'\n\nimport EditorToolLayout from './ToolLayout'\n\nexport default {\n  data() {\n    return {\n      color: '',\n      colorValue: 0,\n      alphaValue: 1,\n      globalFrame: true,\n      showMenu: false,\n      sizeClass: 'small',\n      sizeList: [\n        { name: 'huge', size: 12 },\n        { name: 'large', size: 9 },\n        { name: 'middle', size: 6 },\n        { name: 'small', size: 2 }\n      ],\n      strokeStyle: '#000'\n    }\n  },\n  methods: {\n    onShow(value) {\n      if (value) {\n        this.resetState()\n      }\n    },\n    resetState() {\n      this.color = ''\n      this.colorValue = 0\n      this.alphaValue = 1\n      this.globalFrame = true\n      this.strokeStyle = '#000'\n      this.sizeClass = 'small'\n    },\n    restore() {\n      editor.useTool('pencil').restore()\n    },\n    save() {\n      editor.useTool('pencil').save({\n        $type: this.globalFrame ? 'global' : null\n      })\n    },\n    modify() {\n      const strokeStyle = colorToRGB(this.color, this.alphaValue)\n      this.strokeStyle = strokeStyle\n      editor.useTool('pencil').modify({ strokeStyle })\n    },\n    changeColor(color, value) {\n      this.colorValue = value\n      this.color = color\n      this.modify()\n    },\n    changeAlpha(value) {\n      this.alphaValue = value\n      this.modify()\n    },\n    changeSize(item) {\n      this.sizeClass = item.name\n      editor.useTool('pencil').modify({ lineWidth: item.size })\n    }\n  },\n  components: {\n    EditorToolLayout,\n    ColorPicker\n  }\n}\n</script>\n\n<style lang=\"postcss\" scoped>\n.size {\n  position: relative;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  & i {\n    margin: 0 auto;\n    display: block;\n    border-radius: 50%;\n    background-color: var(--black);\n  }\n  & .huge {\n    width: 16px;\n    height: 16px;\n  }\n  & .large {\n    width: 12px;\n    height: 12px;\n  }\n  & .middle {\n    width: 8px;\n    height: 8px;\n  }\n  & .small {\n    width: 4px;\n    height: 4px;\n  }\n  & ul {\n    position: absolute;\n    width: 100%;\n    top: -72px;\n    background: rgba(255, 255, 255, 0.9);\n    & li {\n      width: 100%;\n      height: 25px;\n      display: flex;\n      align-items: center;\n    }\n  }\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Editor/modules/PencilTool.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('editor-tool-layout',{attrs:{\"name\":'pencil',\"enabledRecord\":true},on:{\"on-show\":_vm.onShow,\"on-restore\":_vm.restore,\"on-save\":_vm.save,\"on-global-frame\":function($event){_vm.globalFrame = !_vm.globalFrame}},nativeOn:{\"click\":function($event){_vm.showMenu = false}}},[_c('color-picker',{attrs:{\"colorValue\":_vm.colorValue,\"alphaValue\":_vm.alphaValue},on:{\"on-change-color\":_vm.changeColor,\"on-change-alpha\":_vm.changeAlpha}}),_c('div',{attrs:{\"slot\":\"action\"},slot:\"action\"},[_c('div',{staticClass:\"size\",on:{\"click\":function($event){$event.stopPropagation();_vm.showMenu = !_vm.showMenu}}},[_c('i',{class:'current ' + _vm.sizeClass,style:({backgroundColor: _vm.strokeStyle })}),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMenu),expression:\"showMenu\"}]},_vm._l((_vm.sizeList),function(item){return _c('li',{key:item.size,on:{\"click\":function($event){_vm.changeSize(item)}}},[_c('i',{class:item.name,style:({backgroundColor: _vm.strokeStyle })})])}))])],1)])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-392ed890\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Editor/modules/PencilTool.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!vue-style-loader?{\\\"shadowMode\\\":false,\\\"sourceMap\\\":false}!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-392ed890\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PencilTool.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vx/test/gif-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PencilTool.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vx/test/gif-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PencilTool.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-392ed890\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PencilTool.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-392ed890\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Editor/modules/PencilTool.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-392ed890\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PencilTool.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4ff0dd9a\", content, true, {\"shadowMode\":false,\"sourceMap\":false});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader?{\"shadowMode\":false,\"sourceMap\":false}!./node_modules/css-loader?{\"sourceMap\":false,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-392ed890\",\"scoped\":true,\"sourceMap\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Editor/modules/PencilTool.vue\n// module id = 8baX\n// module chunks = 1 10","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".size[data-v-392ed890]{position:relative;width:2rem;height:2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.size i[data-v-392ed890]{margin:0 auto;display:block;border-radius:50%;background-color:#282c34}.size .huge[data-v-392ed890]{width:1rem;height:1rem}.size .large[data-v-392ed890]{width:.75rem;height:.75rem}.size .middle[data-v-392ed890]{width:.5rem;height:.5rem}.size .small[data-v-392ed890]{width:.25rem;height:.25rem}.size ul[data-v-392ed890]{position:absolute;width:100%;top:-4.5rem;background:hsla(0,0%,100%,.9)}.size ul li[data-v-392ed890]{width:100%;height:1.5625rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":false,\"minimize\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-392ed890\",\"scoped\":true,\"sourceMap\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Editor/modules/PencilTool.vue\n// module id = v3/k\n// module chunks = 1 10"],"sourceRoot":""}